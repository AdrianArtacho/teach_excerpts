<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <title>Visualizer – Roll ↑ | Score ↔ | Keyboard ↓ + MusicXML BPM</title>

  <link rel="preload" as="script" href="./opensheetmusicdisplay.min.js">
  <link rel="preload" as="script" href="./all-around-keyboard.min.js">

  <link rel="stylesheet" href="./css/style.css">
</head>
<body>
  <!-- Title (JS can replace the text span via ?title=...) -->
  <h1 id="titleLine">🎹 <span id="titleText">Visualizer – Roll ↑ | Score ↔ | Keyboard ↓</span></h1>

  <div class="card">
    <div class="row">
      <button id="play" disabled>Play</button>
      <button id="stop" disabled>Stop</button>
      <label><input id="loop" type="checkbox"> Loop</label>
      <label><strong>Tempo:</strong> <span id="bpmVal">100</span> BPM</label>
      <input id="bpm" type="range" min="30" max="240" step="1" value="100">
      <button id="testTone">🔊 Test Tone</button>
      <button id="panic">⏹ Panic</button>

      <label class="file-inline"><strong>MusicXML laden:</strong>
        <input id="xmlFile" type="file" accept=".musicxml,.xml,.mxl">
      </label>
    </div>

    <canvas id="roll"></canvas>
    <div id="osmd"><p class="small">Lade eine MusicXML-Datei, um die Notenschrift zu sehen.</p></div>
    <all-around-keyboard id="kb" octaves="2" width="900" depth="120"></all-around-keyboard>

    <h3>Status</h3>
    <div id="status"></div>
  </div>

  <!-- Vendor libs -->
  <script defer src="./opensheetmusicdisplay.min.js"></script>
  <script defer src="./all-around-keyboard.min.js"></script>

  <!-- Your app logic (the last working JS, moved into this file) -->
  <script defer src="./app.js"></script>
</body>
</html>
